'From Pharo10.0.0 of 15 February 2022 [Build information: Pharo-10.0.0+build.442.sha.a1ff670e34e2d4f0aeb50748cae86f25dcc133b2 (64 Bit)] on 1 March 2022 at 9:44:52.770386 am'!Object subclass: #PharoWorkshopRESTAPI	instanceVariableNames: ''	classVariableNames: ''	package: 'AA-RestTuto'!!PharoWorkshopRESTAPI commentStamp: 'cd 2/28/2022 11:07' prior: 0!REST API used for the Pharo Workshop.I expose the list of AED in France.!"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PharoWorkshopRESTAPI class	instanceVariableNames: ''!!PharoWorkshopRESTAPI class methodsFor: 'API' stamp: 'cd 2/28/2022 12:48'!aeds2: aRequest	<REST_API: 'GET' pattern: 'aeds2'>		^ self store items collect: [ :aed | (self serverUrl / 'aeds2' / aed id asString) asString ]! !!PharoWorkshopRESTAPI class methodsFor: 'API' stamp: 'cd 2/28/2022 11:06'!aeds: aRequest	<REST_API: 'GET' pattern: 'aeds'>		^ self store items! !!PharoWorkshopRESTAPI class methodsFor: 'API' stamp: 'cd 2/28/2022 11:06'!aedLocalisation: aRequest	<REST_API: 'GET' pattern: 'aeds/<id>/map'>		| aed |	aed := self store aedWithId: (aRequest at: #id) asInteger.	^ Dictionary with: #map -> aed mapLink! !!PharoWorkshopRESTAPI class methodsFor: 'API' stamp: 'cd 2/28/2022 11:06'!random: aRequest	<REST_API: 'GET' pattern: 'random'>		^ self store items atRandom! !!PharoWorkshopRESTAPI class methodsFor: 'API' stamp: 'cd 2/28/2022 11:06'!aed: aRequest	<REST_API: 'GET' pattern: 'aeds/<id>'>		^ self store aedWithId: (aRequest at: #id) asInteger! !!PharoWorkshopRESTAPI class methodsFor: 'API' stamp: 'cd 2/28/2022 11:06'!removeAed: aRequest	<REST_API: 'DELETE' pattern: 'aeds/<id>'>		^ self store removeAedWithId: (aRequest at: #id) asInteger! !!PharoWorkshopRESTAPI class methodsFor: 'API' stamp: 'cd 2/28/2022 12:42'!aed2: aRequest	<REST_API: 'GET' pattern: 'aeds2/<id>'>		| aed |	aed := self store aedWithId: (aRequest at: #id) asInteger.	^ (HateoasEntity on: aed)		addSelfLink: 'aeds2/' , aed id asString;		yourself! !!PharoWorkshopRESTAPI class methodsFor: 'options' stamp: 'cd 2/28/2022 12:43'!serverUrl	^ TLWebserver defaultServer teapot server url / 'api'! !!PharoWorkshopRESTAPI class methodsFor: 'building' stamp: 'cd 2/28/2022 11:06'!build	<script>	TLWebserver defaultServer configuration: self configuration.	TLRESTAPIBuilder buildAPI.	TLWebserver start. "ensure the web server is started"! !!PharoWorkshopRESTAPI class methodsFor: 'accessing' stamp: 'cd 2/28/2022 11:06'!configuration	^ TLWebserver defaultConfiguration copyWith: #defaultOutput -> #json! !!PharoWorkshopRESTAPI class methodsFor: 'accessing' stamp: 'cd 2/28/2022 11:06'!store	^ AEDStore default! !